# image-builder

![Version: 0.1.0](https://img.shields.io/badge/Version-0.1.0-informational?style=flat-square) ![Type: application](https://img.shields.io/badge/Type-application-informational?style=flat-square) ![AppVersion: 1.16.0](https://img.shields.io/badge/AppVersion-1.16.0-informational?style=flat-square)

A Helm chart for KubeVirt VM Image Builder

## Requirements

| Repository | Name | Version |
|------------|------|---------|
| file://../../../charts/kubevirt-vm | kubevirt-vm | 0.1.0 |

## Values

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| kubevirt-vm.networks.podNetwork.enabled | bool | `true` |  |
| kubevirt-vm.nodeSelector."kubevirt.io/schedulable" | string | `"true"` |  |
| kubevirt-vm.osPreference | string | `"ubuntu"` |  |
| kubevirt-vm.osStorage | string | `"20Gi"` |  |
| kubevirt-vm.readinessProbe.command[0] | string | `"cloud-init"` |  |
| kubevirt-vm.readinessProbe.command[1] | string | `"status"` |  |
| kubevirt-vm.readinessProbe.failureThreshold | int | `3` |  |
| kubevirt-vm.readinessProbe.initialDelaySeconds | int | `0` |  |
| kubevirt-vm.readinessProbe.periodSeconds | int | `10` |  |
| kubevirt-vm.readinessProbe.successThreshold | int | `1` |  |
| kubevirt-vm.readinessProbe.timeoutSeconds | int | `1` |  |
| kubevirt-vm.requests.cpu | int | `4` |  |
| kubevirt-vm.requests.memory | string | `"16Gi"` |  |
| kubevirt-vm.runStrategy | string | `"RerunOnFailure"` |  |
| kubevirt-vm.scripts.cloudInit.userData | string | `"#cloud-config\npassword: ubuntu\nssh_pwauth: True\nchpasswd: { expire: False }\n\napt:\n  sources:\n    hashicorp:\n      source: \"deb [arch=amd64] https://apt.releases.hashicorp.com noble main\"\n      keyid: '798AEC654E5C15428C8E42EEAA16FCBCA621E701' #gitleaks:allow\n    vscode:\n      source: \"deb [arch=amd64] https://packages.microsoft.com/repos/code stable main\"\n      keyid: 'EB3E94ADBE1229CF'\n\npackage_update: true\npackage_upgrade: true\npackages:\n  - ubuntu-desktop-minimal\n  - openssh-server\n  - xrdp\n  - tigervnc-standalone-server\n  - tigervnc-viewer\n  - ca-certificates\n  - apt-transport-https\n  - lsb-release\n  - gnupg\n  - curl\n  - git\n  - python3-pip\n  - ansible\n  - packer\n  - awscli\n  - vim\n  - code\n  - bridge-utils\n  - libvirt-daemon-system\n  - libvirt-clients\n  - qemu-system-x86\n  - qemu-kvm\n  - qemu-guest-agent\n\nwrite_files:\n  - content: 'KERNEL==\"kvm\", GROUP=\"kvm\", MODE=\"0660\"'\n    owner: root:root\n    path: /etc/udev/rules.d/99-kvm.rules\n    permissions: '0644'\n\nruncmd:\n  - [ adduser, ubuntu, kvm]\n  - [ adduser, ubuntu, libvirt]\n  - [ adduser, xrdp, ssl-cert ]\n  - [ systemctl, enable, xrdp ]\n  - [ ufw, allow, '5900:5910' ]\n  - [ ufw, allow, '3389' ]\n  - [ \"systemctl\", \"enable\", \"--now\", \"qemu-guest-agent\" ]\n\npower_state:\n  mode: reboot\n  message: Rebooting after package installation.\n"` |  |
| kubevirt-vm.servicePorts[0] | int | `22` |  |
| kubevirt-vm.servicePorts[1] | int | `3389` |  |
| kubevirt-vm.servicePorts[2] | int | `5900` |  |
| kubevirt-vm.source.create-rbac | bool | `true` |  |
| kubevirt-vm.source.name | string | `"ubuntu-24.04"` |  |
| kubevirt-vm.source.namespace | string | `"base-images"` |  |
| kubevirt-vm.source.type | string | `"snapshot"` |  |
| kubevirt-vm.tolerations[0].key | string | `"pelo.tech/kvm"` |  |
| kubevirt-vm.tolerations[0].value | string | `"true"` |  |

----------------------------------------------
Autogenerated from chart metadata using [helm-docs v1.14.2](https://github.com/norwoodj/helm-docs/releases/v1.14.2)
